<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>compose</title>
</head>

<body>
    <script>
        // 复合函数一
        // let calculate = x => (x+10)*10;
        // console.log(calculate(10));

        // 复合函数二、
        let add = x => x + 10;
        let multiply = y => y * 10;
        // let compose = (f, g) => {
        //     return function (x) {
        //         return f(g(x));
        //     }
        // }
        // let calculate = compose(multiply, add);
        // console.log(calculate(10));

        // 复合函数三、
        // let compose = function () {
        //     let args = [].slice.call(arguments);
        //     return function (x) {
        //         return args.reduceRight(function (res, cb) {
        //             return cb(res);
        //         }, x)
        //     }
        // }

        // 复合函数四、
        let add = x => x + 10;
        let multiply = y => y * 10;
        const compose = (...args) => x => args.reduceRight((res, cb) => cb(res), x);
        let calculate = compose(multiply, add);
        console.log(calculate(10));
    </script>
</body>

</html>